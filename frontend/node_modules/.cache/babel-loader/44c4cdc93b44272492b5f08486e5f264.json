{"ast":null,"code":"var _jsxFileName = \"/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/EditMessagePopup/EditMessagePopup.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { TEPopupForm, TEInputRow, useTEPopups, TEDatetimeRow, TETextareaRow, TESegmentedGroup } from 'react-tec';\nimport { TEPopupTitle } from 'components';\nimport { saveMessage } from './requests';\nexport const EditMessagePopup = props => {\n  const {\n    visible,\n    onClose,\n    onSubmit,\n    editMessage\n  } = props;\n  const popupFunctions = useTEPopups();\n  const [dateCreated, setDateCreated] = useState();\n  const [createdBy, setCreatedBy] = useState('');\n  const [message, setMessage] = useState('');\n  const [showMessage, setShowMessage] = useState('Yes');\n  useEffect(() => {\n    if (editMessage) {\n      const {\n        dateCreated,\n        createdBy,\n        message,\n        showMessage\n      } = editMessage;\n      setDateCreated(dateCreated ? new Date(dateCreated) : undefined);\n      setCreatedBy(createdBy);\n      setMessage(message);\n      setShowMessage(showMessage ? 'Yes' : 'No');\n    } else {\n      setDateCreated(undefined);\n      setCreatedBy('');\n      setMessage('');\n      setShowMessage('Yes');\n    }\n  }, [editMessage]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const data = {\n        uid: editMessage.uid,\n        message,\n        popupFunctions\n      };\n      await saveMessage(data);\n      setDateCreated(undefined);\n      setCreatedBy('');\n      setMessage('');\n      setShowMessage('Yes');\n      onSubmit();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return React.createElement(TEPopupForm, {\n    visible: visible,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    onSubmitTitle: \"Save Message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(TEPopupTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Edit Message\"), React.createElement(TEDatetimeRow, {\n    labelForKey: \"editDateCreated\",\n    title: \"Date Created\",\n    value: dateCreated,\n    onChange: () => {},\n    required: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(TEInputRow, {\n    labelForKey: \"editCreatedBy\",\n    title: \"Name\",\n    value: createdBy,\n    onChange: () => {},\n    required: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(TETextareaRow, {\n    labelForKey: \"editMessage\",\n    title: \"Message\",\n    value: message,\n    onChange: e => setMessage(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(TESegmentedGroup, {\n    labelForKey: \"editPublic\",\n    title: \"Display on website?\",\n    buttonArray: ['Yes', 'No'],\n    value: showMessage,\n    onChange: e => setShowMessage(e.target.value),\n    inline: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/EditMessagePopup/EditMessagePopup.tsx"],"names":["React","useState","useEffect","TEPopupForm","TEInputRow","useTEPopups","TEDatetimeRow","TETextareaRow","TESegmentedGroup","TEPopupTitle","saveMessage","EditMessagePopup","props","visible","onClose","onSubmit","editMessage","popupFunctions","dateCreated","setDateCreated","createdBy","setCreatedBy","message","setMessage","showMessage","setShowMessage","Date","undefined","handleSubmit","e","preventDefault","data","uid","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n\tTEPopupForm,\n\tTEInputRow,\n\tuseTEPopups,\n\tTEDatetimeRow,\n\tTETextareaRow,\n\tTESegmentedGroup,\n} from 'react-tec'\n\nimport { TEPopupTitle } from 'components'\nimport { Message } from 'interfaces'\n\nimport { saveMessage } from './requests'\n\ninterface Props {\n\tvisible: boolean\n\tonClose(): void\n\tonSubmit(): void\n\teditMessage?: Message\n}\nexport const EditMessagePopup = (props: Props) => {\n\tconst { visible, onClose, onSubmit, editMessage } = props\n\n\tconst popupFunctions = useTEPopups()\n\tconst [dateCreated, setDateCreated] = useState<Date>()\n\tconst [createdBy, setCreatedBy] = useState('')\n\tconst [message, setMessage] = useState('')\n\tconst [showMessage, setShowMessage] = useState('Yes')\n\n\tuseEffect(() => {\n\t\tif (editMessage) {\n\t\t\tconst { dateCreated, createdBy, message, showMessage } = editMessage\n\n\t\t\tsetDateCreated(dateCreated ? new Date(dateCreated) : undefined)\n\t\t\tsetCreatedBy(createdBy)\n\t\t\tsetMessage(message)\n\t\t\tsetShowMessage(showMessage ? 'Yes' : 'No')\n\t\t} else {\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetCreatedBy('')\n\t\t\tsetMessage('')\n\t\t\tsetShowMessage('Yes')\n\t\t}\n\t}, [editMessage])\n\n\tconst handleSubmit = async (e: React.FormEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\ttry {\n\t\t\tconst data = {\n\t\t\t\tuid: editMessage!.uid,\n\t\t\t\tmessage,\n\t\t\t\tpopupFunctions,\n\t\t\t}\n\n\t\t\tawait saveMessage(data)\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetCreatedBy('')\n\t\t\tsetMessage('')\n\t\t\tsetShowMessage('Yes')\n\t\t\tonSubmit()\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\n\treturn (\n\t\t<TEPopupForm\n\t\t\tvisible={visible}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonSubmitTitle='Save Message'\n\t\t>\n\t\t\t<TEPopupTitle>Edit Message</TEPopupTitle>\n\t\t\t<TEDatetimeRow\n\t\t\t\tlabelForKey='editDateCreated'\n\t\t\t\ttitle='Date Created'\n\t\t\t\tvalue={dateCreated}\n\t\t\t\tonChange={() => {}}\n\t\t\t\trequired\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<TEInputRow\n\t\t\t\tlabelForKey='editCreatedBy'\n\t\t\t\ttitle='Name'\n\t\t\t\tvalue={createdBy}\n\t\t\t\tonChange={() => {}}\n\t\t\t\trequired\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<TETextareaRow\n\t\t\t\tlabelForKey='editMessage'\n\t\t\t\ttitle='Message'\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<TESegmentedGroup\n\t\t\t\tlabelForKey='editPublic'\n\t\t\t\ttitle='Display on website?'\n\t\t\t\tbuttonArray={['Yes', 'No']}\n\t\t\t\tvalue={showMessage}\n\t\t\t\tonChange={(e) => setShowMessage(e.target.value)}\n\t\t\t\tinline\n\t\t\t\trequired\n\t\t\t/>\n\t\t</TEPopupForm>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}