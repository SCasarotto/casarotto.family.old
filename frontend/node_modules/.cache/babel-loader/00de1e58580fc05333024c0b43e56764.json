{"ast":null,"code":"import _slicedToArray from\"/Users/stuartcasarotto/Documents/family-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{TEPanelWrapper,TEPanel,useTEPopups}from'react-tec';import{TEReactTable}from'components';import{useBarTitle}from'hooks';import{customTableFilter}from'helpers';import{useMessages}from'./hooks';import{tableColumns}from'./tableConfigs';import{confirmDeleteMessage}from'./requests';import{EditMessagePopup}from'./EditMessagePopup';export var Messages=function Messages(){useBarTitle('Messages');var popupFunctions=useTEPopups();var _useMessages=useMessages(),messageArray=_useMessages.messageArray,messagesLoaded=_useMessages.messagesLoaded;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMessagePopupVisible=_useState2[0],setEditMessagePopupVisible=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),editMessage=_useState4[0],setEditMessage=_useState4[1];var handleEdit=function handleEdit(message){setEditMessage(message);setEditMessagePopupVisible(true);};var handleDelete=function handleDelete(uid){var data={uid:uid,popupFunctions:popupFunctions};confirmDeleteMessage(data);};return React.createElement(React.Fragment,null,React.createElement(TEPanelWrapper,null,React.createElement(TEPanel,{title:\"Messages\"},React.createElement(TEReactTable,{data:messageArray,columns:tableColumns({handleEdit:handleEdit,handleDelete:handleDelete}),filterable:true,defaultFilterMethod:customTableFilter,defaultSorted:[{id:'dateCreated',desc:false}],loading:!messagesLoaded}))),React.createElement(EditMessagePopup,{visible:editMessagePopupVisible,editMessage:editMessage,onSubmit:function onSubmit(){setEditMessage(undefined);setEditMessagePopupVisible(false);},onClose:function onClose(){setEditMessage(undefined);setEditMessagePopupVisible(false);}}));};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/Messages.tsx"],"names":["React","useState","TEPanelWrapper","TEPanel","useTEPopups","TEReactTable","useBarTitle","customTableFilter","useMessages","tableColumns","confirmDeleteMessage","EditMessagePopup","Messages","popupFunctions","messageArray","messagesLoaded","editMessagePopupVisible","setEditMessagePopupVisible","editMessage","setEditMessage","handleEdit","message","handleDelete","uid","data","id","desc","undefined"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,cAAT,CAAyBC,OAAzB,CAAkCC,WAAlC,KAAqD,WAArD,CAEA,OAASC,YAAT,KAA6B,YAA7B,CAEA,OAASC,WAAT,KAA4B,OAA5B,CAEA,OAASC,iBAAT,KAAkC,SAAlC,CAEA,OAASC,WAAT,KAA4B,SAA5B,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,oBAAT,KAAqC,YAArC,CAEA,OAASC,gBAAT,KAAiC,oBAAjC,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC7BN,WAAW,CAAC,UAAD,CAAX,CACA,GAAMO,CAAAA,cAAc,CAAGT,WAAW,EAAlC,CAF6B,iBAGYI,WAAW,EAHvB,CAGrBM,YAHqB,cAGrBA,YAHqB,CAGPC,cAHO,cAGPA,cAHO,eAKiCd,QAAQ,CAAC,KAAD,CALzC,wCAKtBe,uBALsB,eAKGC,0BALH,8BAMShB,QAAQ,EANjB,yCAMtBiB,WANsB,eAMTC,cANS,eAQ7B,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAsB,CACxCF,cAAc,CAACE,OAAD,CAAd,CACAJ,0BAA0B,CAAC,IAAD,CAA1B,CACA,CAHD,CAIA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAiB,CACrC,GAAMC,CAAAA,IAAI,CAAG,CAAED,GAAG,CAAHA,GAAF,CAAOV,cAAc,CAAdA,cAAP,CAAb,CACAH,oBAAoB,CAACc,IAAD,CAApB,CACA,CAHD,CAKA,MACC,yCACC,oBAAC,cAAD,MACC,oBAAC,OAAD,EAAS,KAAK,CAAC,UAAf,EACC,oBAAC,YAAD,EACC,IAAI,CAAEV,YADP,CAEC,OAAO,CAAEL,YAAY,CAAC,CAAEW,UAAU,CAAVA,UAAF,CAAcE,YAAY,CAAZA,YAAd,CAAD,CAFtB,CAGC,UAAU,KAHX,CAIC,mBAAmB,CAAEf,iBAJtB,CAKC,aAAa,CAAE,CACd,CACCkB,EAAE,CAAE,aADL,CAECC,IAAI,CAAE,KAFP,CADc,CALhB,CAWC,OAAO,CAAE,CAACX,cAXX,EADD,CADD,CADD,CAkBC,oBAAC,gBAAD,EACC,OAAO,CAAEC,uBADV,CAEC,WAAW,CAAEE,WAFd,CAGC,QAAQ,CAAE,mBAAM,CACfC,cAAc,CAACQ,SAAD,CAAd,CACAV,0BAA0B,CAAC,KAAD,CAA1B,CACA,CANF,CAOC,OAAO,CAAE,kBAAM,CACdE,cAAc,CAACQ,SAAD,CAAd,CACAV,0BAA0B,CAAC,KAAD,CAA1B,CACA,CAVF,EAlBD,CADD,CAiCA,CAlDM","sourcesContent":["import React, { useState } from 'react'\nimport { TEPanelWrapper, TEPanel, useTEPopups } from 'react-tec'\n\nimport { TEReactTable } from 'components'\n\nimport { useBarTitle } from 'hooks'\nimport { Message } from 'interfaces'\nimport { customTableFilter } from 'helpers'\n\nimport { useMessages } from './hooks'\nimport { tableColumns } from './tableConfigs'\nimport { confirmDeleteMessage } from './requests'\n\nimport { EditMessagePopup } from './EditMessagePopup'\n\nexport const Messages = () => {\n\tuseBarTitle('Messages')\n\tconst popupFunctions = useTEPopups()\n\tconst { messageArray, messagesLoaded } = useMessages()\n\n\tconst [editMessagePopupVisible, setEditMessagePopupVisible] = useState(false)\n\tconst [editMessage, setEditMessage] = useState<Message>()\n\n\tconst handleEdit = (message: Message) => {\n\t\tsetEditMessage(message)\n\t\tsetEditMessagePopupVisible(true)\n\t}\n\tconst handleDelete = (uid: string) => {\n\t\tconst data = { uid, popupFunctions }\n\t\tconfirmDeleteMessage(data)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TEPanelWrapper>\n\t\t\t\t<TEPanel title='Messages'>\n\t\t\t\t\t<TEReactTable\n\t\t\t\t\t\tdata={messageArray}\n\t\t\t\t\t\tcolumns={tableColumns({ handleEdit, handleDelete })}\n\t\t\t\t\t\tfilterable\n\t\t\t\t\t\tdefaultFilterMethod={customTableFilter}\n\t\t\t\t\t\tdefaultSorted={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'dateCreated',\n\t\t\t\t\t\t\t\tdesc: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tloading={!messagesLoaded}\n\t\t\t\t\t/>\n\t\t\t\t</TEPanel>\n\t\t\t</TEPanelWrapper>\n\t\t\t<EditMessagePopup\n\t\t\t\tvisible={editMessagePopupVisible}\n\t\t\t\teditMessage={editMessage}\n\t\t\t\tonSubmit={() => {\n\t\t\t\t\tsetEditMessage(undefined)\n\t\t\t\t\tsetEditMessagePopupVisible(false)\n\t\t\t\t}}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetEditMessage(undefined)\n\t\t\t\t\tsetEditMessagePopupVisible(false)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}