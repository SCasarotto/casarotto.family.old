{"ast":null,"code":"var _jsxFileName = \"/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/EditMessagePopup/EditMessagePopup.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { TEPopupForm, TEInputRow, useTEPopups, TEDatetimeRow, TETextareaRow } from 'react-tec';\nimport { TEPopupTitle } from 'components';\nimport { saveMessage } from './requests';\nexport const EditMessagePopup = props => {\n  const {\n    visible,\n    onClose,\n    onSubmit,\n    editMessage\n  } = props;\n  const popupFunctions = useTEPopups();\n  const [dateCreated, setDateCreated] = useState();\n  const [createdBy, setCreatedBy] = useState('');\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    if (editMessage) {\n      const {\n        dateCreated,\n        createdBy,\n        message\n      } = editMessage;\n      setDateCreated(dateCreated ? new Date(dateCreated) : undefined);\n      setCreatedBy(createdBy);\n      setMessage(message);\n    } else {\n      setDateCreated(undefined);\n      setCreatedBy('');\n      setMessage('');\n    }\n  }, [editMessage]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const data = {\n        uid: editMessage.uid,\n        dateCreated,\n        createdBy,\n        message,\n        popupFunctions\n      };\n      await saveMessage(data);\n      setDateCreated(undefined);\n      setCreatedBy('');\n      setMessage('');\n      onSubmit();\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return React.createElement(TEPopupForm, {\n    visible: visible,\n    onClose: onClose,\n    onSubmit: handleSubmit,\n    onSubmitTitle: \"Save Message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(TEPopupTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Edit Message\"), React.createElement(TEDatetimeRow, {\n    labelForKey: \"editDateCreated\",\n    title: \"Date Created\",\n    value: dateCreated,\n    onChange: () => {},\n    required: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(TEInputRow, {\n    labelForKey: \"editCreatedBy\",\n    title: \"Name\",\n    value: createdBy,\n    onChange: () => {},\n    required: true,\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(TETextareaRow, {\n    labelForKey: \"editMessage\",\n    title: \"Message\",\n    value: message,\n    onChange: e => setMessage(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/EditMessagePopup/EditMessagePopup.tsx"],"names":["React","useState","useEffect","TEPopupForm","TEInputRow","useTEPopups","TEDatetimeRow","TETextareaRow","TEPopupTitle","saveMessage","EditMessagePopup","props","visible","onClose","onSubmit","editMessage","popupFunctions","dateCreated","setDateCreated","createdBy","setCreatedBy","message","setMessage","Date","undefined","handleSubmit","e","preventDefault","data","uid","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { TEPopupForm, TEInputRow, useTEPopups, TEDatetimeRow, TETextareaRow } from 'react-tec'\n\nimport { TEPopupTitle } from 'components'\nimport { Message } from 'interfaces'\n\nimport { saveMessage } from './requests'\n\ninterface Props {\n\tvisible: boolean\n\tonClose(): void\n\tonSubmit(): void\n\teditMessage?: Message\n}\nexport const EditMessagePopup = (props: Props) => {\n\tconst { visible, onClose, onSubmit, editMessage } = props\n\n\tconst popupFunctions = useTEPopups()\n\tconst [dateCreated, setDateCreated] = useState<Date>()\n\tconst [createdBy, setCreatedBy] = useState('')\n\tconst [message, setMessage] = useState('')\n\n\tuseEffect(() => {\n\t\tif (editMessage) {\n\t\t\tconst { dateCreated, createdBy, message } = editMessage\n\n\t\t\tsetDateCreated(dateCreated ? new Date(dateCreated) : undefined)\n\t\t\tsetCreatedBy(createdBy)\n\t\t\tsetMessage(message)\n\t\t} else {\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetCreatedBy('')\n\t\t\tsetMessage('')\n\t\t}\n\t}, [editMessage])\n\n\tconst handleSubmit = async (e: React.FormEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\ttry {\n\t\t\tconst data = {\n\t\t\t\tuid: editMessage!.uid,\n\t\t\t\tdateCreated,\n\t\t\t\tcreatedBy,\n\t\t\t\tmessage,\n\t\t\t\tpopupFunctions,\n\t\t\t}\n\n\t\t\tawait saveMessage(data)\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetCreatedBy('')\n\t\t\tsetMessage('')\n\t\t\tonSubmit()\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\n\treturn (\n\t\t<TEPopupForm\n\t\t\tvisible={visible}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonSubmitTitle='Save Message'\n\t\t>\n\t\t\t<TEPopupTitle>Edit Message</TEPopupTitle>\n\t\t\t<TEDatetimeRow\n\t\t\t\tlabelForKey='editDateCreated'\n\t\t\t\ttitle='Date Created'\n\t\t\t\tvalue={dateCreated}\n\t\t\t\tonChange={() => {}}\n\t\t\t\trequired\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<TEInputRow\n\t\t\t\tlabelForKey='editCreatedBy'\n\t\t\t\ttitle='Name'\n\t\t\t\tvalue={createdBy}\n\t\t\t\tonChange={() => {}}\n\t\t\t\trequired\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<TETextareaRow\n\t\t\t\tlabelForKey='editMessage'\n\t\t\t\ttitle='Message'\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\trequired\n\t\t\t/>\n\t\t</TEPopupForm>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}