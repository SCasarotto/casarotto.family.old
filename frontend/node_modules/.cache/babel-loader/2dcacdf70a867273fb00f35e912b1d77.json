{"ast":null,"code":"var _jsxFileName = \"/Users/stuartcasarotto/Documents/family-website/src/contexts/AppContext.tsx\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nexport const AppContext = createContext({});\nexport const AppProvider = props => {\n  const [user, setUser] = useState(undefined);\n  const [userLoaded, setUserLoaded] = useState(false);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        setUser(user);\n        setUserLoaded(true);\n      } else {\n        setUser(undefined);\n        setUserLoaded(true);\n      }\n    }, e => {\n      console.error(e);\n      setUser(undefined);\n      setUserLoaded(true);\n    }, () => console.log('onAuthStateChanged Completed'));\n  }, []);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: {\n      user,\n      userLoaded\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/contexts/AppContext.tsx"],"names":["React","createContext","useState","useEffect","firebase","AppContext","AppProvider","props","user","setUser","undefined","userLoaded","setUserLoaded","auth","onAuthStateChanged","e","console","error","log","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,OAAOC,QAAP,MAA+B,cAA/B;AACA,OAAO,eAAP;AACA,OAAO,oBAAP;AAMA,OAAO,MAAMC,UAAU,GAAGJ,aAAa,CAAiB,EAAjB,CAAhC;AAEP,OAAO,MAAMK,WAAqB,GAAIC,KAAD,IAAW;AAC/C,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAmBQ,SAAnB,CAAhC;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,KAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACfC,IAAAA,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CACEN,IAAD,IAAU;AACT,UAAIA,IAAJ,EAAU;AACTC,QAAAA,OAAO,CAACD,IAAD,CAAP;AACAI,QAAAA,aAAa,CAAC,IAAD,CAAb;AACA,OAHD,MAGO;AACNH,QAAAA,OAAO,CAACC,SAAD,CAAP;AACAE,QAAAA,aAAa,CAAC,IAAD,CAAb;AACA;AACD,KATF,EAUEG,CAAD,IAAO;AACNC,MAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAN,MAAAA,OAAO,CAACC,SAAD,CAAP;AACAE,MAAAA,aAAa,CAAC,IAAD,CAAb;AACA,KAdF,EAeC,MAAMI,OAAO,CAACE,GAAR,CAAY,8BAAZ,CAfP;AAiBA,GAlBQ,EAkBN,EAlBM,CAAT;AAoBA,sBACC,oBAAC,UAAD,CAAY,QAAZ;AACC,IAAA,KAAK,EAAE;AACNV,MAAAA,IADM;AAENG,MAAAA;AAFM,KADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMEJ,KAAK,CAACY,QANR,CADD;AAUA,CAlCM","sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\nimport firebase, { User } from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\ninterface AppContextData {\n\tuser?: User\n\tuserLoaded?: boolean\n}\nexport const AppContext = createContext<AppContextData>({})\n\nexport const AppProvider: React.FC = (props) => {\n\tconst [user, setUser] = useState<User | undefined>(undefined)\n\tconst [userLoaded, setUserLoaded] = useState(false)\n\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(\n\t\t\t(user) => {\n\t\t\t\tif (user) {\n\t\t\t\t\tsetUser(user)\n\t\t\t\t\tsetUserLoaded(true)\n\t\t\t\t} else {\n\t\t\t\t\tsetUser(undefined)\n\t\t\t\t\tsetUserLoaded(true)\n\t\t\t\t}\n\t\t\t},\n\t\t\t(e) => {\n\t\t\t\tconsole.error(e)\n\t\t\t\tsetUser(undefined)\n\t\t\t\tsetUserLoaded(true)\n\t\t\t},\n\t\t\t() => console.log('onAuthStateChanged Completed'),\n\t\t)\n\t}, [])\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser,\n\t\t\t\tuserLoaded,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}