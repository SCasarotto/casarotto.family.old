{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _actions;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Dropdown = require('./Dropdown');\n\nvar _Dropdown2 = _interopRequireDefault(_Dropdown);\n\nvar _SelectTrigger = require('./SelectTrigger');\n\nvar _SelectTrigger2 = _interopRequireDefault(_SelectTrigger);\n\nvar _DropdownMenu = require('./DropdownMenu');\n\nvar _DropdownMenu2 = _interopRequireDefault(_DropdownMenu);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar KEY_CODES = {\n  UP_ARROW: 38,\n  DOWN_ARROW: 40,\n  ENTER: 13,\n  TAB: 9\n};\nvar actions = (_actions = {}, _defineProperty(_actions, KEY_CODES.UP_ARROW, 'handleUpArrow'), _defineProperty(_actions, KEY_CODES.DOWN_ARROW, 'handleDownArrow'), _defineProperty(_actions, KEY_CODES.ENTER, 'handleEnterPress'), _defineProperty(_actions, KEY_CODES.TAB, 'handleTabPress'), _actions);\n\nvar noop = function noop() {};\n\nvar Select = function (_Component) {\n  _inherits(Select, _Component);\n\n  function Select() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Select);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Select.__proto__ || Object.getPrototypeOf(Select)).call.apply(_ref, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Select, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.flattenOptions(this.props.options);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref2) {\n      var options = _ref2.options;\n      this.flattenOptions(options);\n\n      if (this.props.options !== options) {\n        this.setState({\n          filteredOptions: options\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.documentEventListeners.handleEscapePress);\n      document.addEventListener('click', this.documentEventListeners.handleDocumentClick, true);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.documentEventListeners.handleEscapePress);\n      document.removeEventListener('click', this.documentEventListeners.handleDocumentClick, true);\n      clearTimeout(this.focusFieldTimeout);\n    }\n  }, {\n    key: 'flattenOptions',\n    value: function flattenOptions(options) {\n      var _flattenOptions2 = (0, _utils.flattenOptions)(options),\n          isOptGroupOptions = _flattenOptions2.isOptGroupOptions,\n          flattenedOptions = _flattenOptions2.flattenedOptions,\n          optGroupMap = _flattenOptions2.optGroupMap;\n\n      this.isOptGroupOptions = isOptGroupOptions;\n      this._optGroupMap = optGroupMap;\n      this.setState({\n        _flattenedOptions: flattenedOptions\n      });\n    }\n  }, {\n    key: 'getVisibleOptions',\n    value: function getVisibleOptions() {\n      return this.state.filteredOptions || this.props.options;\n    }\n  }, {\n    key: 'getFlattenedOptions',\n    value: function getFlattenedOptions() {\n      return this.state._flattenedOptions;\n    }\n  }, {\n    key: 'setHighlightedOption',\n    value: function setHighlightedOption(highlightedOption) {\n      this.setState({\n        highlightedOption: highlightedOption\n      });\n    }\n  }, {\n    key: 'setFocusedState',\n    value: function setFocusedState(focused) {\n      this.setState({\n        focused: focused\n      });\n    }\n  }, {\n    key: 'validateAndHighlightOption',\n    value: function validateAndHighlightOption(highlightedOption, counter) {\n      var options = this.getFlattenedOptions();\n      var isValidOptionAvailable = (0, _utils.isValidOptionPresent)(options);\n\n      if (isValidOptionAvailable) {\n        var nextValidOption = (0, _utils.getNextValidOption)({\n          options: options,\n          counter: counter,\n          currentOption: highlightedOption,\n          optGroupMap: this._optGroupMap\n        });\n        this.setHighlightedOption(nextValidOption);\n      }\n    }\n  }, {\n    key: 'handleDownArrow',\n    value: function handleDownArrow(event, highlightedOption) {\n      event.preventDefault();\n      this.validateAndHighlightOption(highlightedOption, 1);\n    }\n  }, {\n    key: 'handleUpArrow',\n    value: function handleUpArrow(event, highlightedOption) {\n      event.preventDefault();\n      this.validateAndHighlightOption(highlightedOption, -1);\n    }\n  }, {\n    key: 'handleEnterPress',\n    value: function handleEnterPress(event, highlightedOption) {\n      if (this.state.isOpen) {\n        this.selectOption(highlightedOption);\n        this.focusField();\n        this.resetSearchAndClose();\n      }\n    }\n  }, {\n    key: 'handleTabPress',\n    value: function handleTabPress(event, highlightedOption) {\n      this.setFocusedState(false);\n\n      if (this.state.isOpen) {\n        this.selectOption(highlightedOption);\n        this.resetSearchAndClose();\n      }\n    }\n  }, {\n    key: 'handleEscapePress',\n    value: function handleEscapePress(event) {\n      if (event.which === 27) {\n        var $target = event.target;\n\n        if (this.powerselect.contains($target) || this.dropdown && this.dropdown.contains($target)) {\n          this.resetSearchAndClose();\n          this.focusField();\n        }\n      }\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(event) {\n      var $target = event.target;\n\n      if (!(this.powerselect.contains($target) || this.dropdown && this.dropdown.contains(event.target))) {\n        var _state = this.state,\n            focused = _state.focused,\n            isOpen = _state.isOpen;\n\n        if (focused) {\n          this.setFocusedState(false);\n        }\n\n        if (isOpen) {\n          this.resetSearchAndClose();\n        }\n      }\n    }\n  }, {\n    key: 'getPublicApi',\n    value: function getPublicApi() {\n      var _state2 = this.state,\n          isOpen = _state2.isOpen,\n          searchTerm = _state2.searchTerm;\n      return {\n        isOpen: isOpen,\n        searchTerm: searchTerm,\n        actions: {\n          open: this.open,\n          close: this.close,\n          search: this.search,\n          focus: this.focusField\n        }\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          tabIndex = _props.tabIndex,\n          selected = _props.selected,\n          showClear = _props.showClear,\n          optionLabelPath = _props.optionLabelPath,\n          optionComponent = _props.optionComponent,\n          placeholder = _props.placeholder,\n          disabled = _props.disabled,\n          horizontalPosition = _props.horizontalPosition,\n          selectedOptionComponent = _props.selectedOptionComponent,\n          selectedOptionLabelPath = _props.selectedOptionLabelPath,\n          triggerLHSComponent = _props.triggerLHSComponent,\n          triggerRHSComponent = _props.triggerRHSComponent,\n          beforeOptionsComponent = _props.beforeOptionsComponent,\n          afterOptionsComponent = _props.afterOptionsComponent;\n      var _state3 = this.state,\n          isOpen = _state3.isOpen,\n          searchTerm = _state3.searchTerm,\n          highlightedOption = _state3.highlightedOption,\n          focused = _state3.focused;\n      var Trigger = this.props.triggerComponent;\n      var options = this.getVisibleOptions();\n      var selectApi = this.getPublicApi();\n      return _react2.default.createElement(_Dropdown2.default, {\n        className: className,\n        horizontalPosition: horizontalPosition\n      }, _react2.default.createElement('div', {\n        ref: function ref(powerselect) {\n          _this2.powerselect = powerselect;\n        },\n        className: (0, _classnames2.default)('PowerSelect', className, {\n          'PowerSelect--disabled': disabled,\n          'PowerSelect--open': isOpen,\n          'PowerSelect--focused': focused,\n          PowerSelect__WithSearch: searchTerm\n        }),\n        tabIndex: tabIndex,\n        onClick: this.handleClick,\n        onFocus: this.handleFocus,\n        onKeyDown: function onKeyDown(event) {\n          _this2.handleKeyDown(event, highlightedOption);\n        }\n      }, _react2.default.createElement(Trigger, {\n        selectedOption: selected,\n        highlightedOption: highlightedOption,\n        optionLabelPath: optionLabelPath,\n        selectedOptionLabelPath: selectedOptionLabelPath,\n        selectedOptionComponent: selectedOptionComponent,\n        triggerLHSComponent: triggerLHSComponent,\n        triggerRHSComponent: triggerRHSComponent,\n        placeholder: placeholder,\n        disabled: disabled,\n        searchTerm: searchTerm,\n        showClear: showClear,\n        handleOnChange: this.handleSearchInputChange,\n        onClearClick: this.handleClearClick,\n        handleOnBlur: this.handleBlur,\n        select: selectApi\n      })), isOpen && _react2.default.createElement(_DropdownMenu2.default, {\n        ref: function ref(dropdownRef) {\n          return _this2.dropdownRef = dropdownRef;\n        },\n        onRef: function onRef(dropdown) {\n          return _this2.dropdown = dropdown;\n        },\n        className: className,\n        minWidth: this.powerselect.offsetWidth,\n        options: options,\n        selected: selected,\n        optionLabelPath: optionLabelPath,\n        optionComponent: optionComponent,\n        onOptionClick: this.handleOptionClick,\n        handleKeyDown: this.handleKeyDown,\n        highlightedOption: highlightedOption,\n        select: selectApi,\n        beforeOptionsComponent: beforeOptionsComponent,\n        afterOptionsComponent: afterOptionsComponent\n      }));\n    }\n  }]);\n\n  return Select;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.state = {\n    highlightedOption: null,\n    isOpen: false,\n    focused: false,\n    filteredOptions: null,\n    searchTerm: null\n  };\n  this.documentEventListeners = {\n    handleEscapePress: this.handleEscapePress.bind(this),\n    handleDocumentClick: this.handleDocumentClick.bind(this)\n  };\n\n  this.selectOption = function (option) {\n    _this3.props.onChange({\n      select: _this3.getPublicApi(),\n      option: option\n    });\n\n    _this3.setState({\n      searchTerm: null\n    });\n  };\n\n  this.open = function () {\n    if (_this3.props.disabled) {\n      return;\n    }\n\n    var flattenedOptions = _this3.getFlattenedOptions();\n\n    if (_this3.state.highlightedOption === null) {\n      var selected = _this3.props.selected;\n      var highlightedOption = flattenedOptions.find(function (option) {\n        return option === selected;\n      });\n\n      _this3.setHighlightedOption(highlightedOption);\n    }\n\n    _this3.setState({\n      isOpen: true\n    });\n\n    _this3.props.onOpen({\n      select: _this3.getPublicApi()\n    });\n  };\n\n  this.close = function () {\n    _this3.setState({\n      isOpen: false\n    });\n\n    _this3.props.onClose({\n      select: _this3.getPublicApi()\n    });\n  };\n\n  this.resetSearchAndClose = function () {\n    _this3.search(null);\n\n    _this3.close();\n  };\n\n  this.toggle = function (event) {\n    if (event && _this3.powerselect.contains(event.target)) {\n      event.stopPropagation();\n    }\n\n    if (_this3.state.isOpen) {\n      _this3.resetSearchAndClose();\n    } else {\n      _this3.open();\n    }\n  };\n\n  this.resetSearch = function () {\n    _this3.setHighlightedOption(null);\n\n    _this3.setState({\n      searchTerm: null,\n      filteredOptions: null\n    });\n  };\n\n  this.focusField = function () {\n    _this3.focusFieldTimeout = setTimeout(function () {\n      _this3.powerselect.focus();\n    });\n  };\n\n  this.search = function (searchTerm, callback) {\n    var _props2 = _this3.props,\n        options = _props2.options,\n        optionLabelPath = _props2.optionLabelPath,\n        matcher = _props2.matcher,\n        _props2$searchIndices = _props2.searchIndices,\n        searchIndices = _props2$searchIndices === undefined ? optionLabelPath : _props2$searchIndices;\n    var filteredOptions = (0, _utils.filterOptions)({\n      options: options,\n      searchTerm: searchTerm || '',\n      searchIndices: searchIndices,\n      matcher: matcher\n    });\n\n    var _flattenOptions3 = (0, _utils.flattenOptions)(filteredOptions || []),\n        flattenedOptions = _flattenOptions3.flattenedOptions;\n\n    if (searchTerm && flattenedOptions.length) {\n      _this3.setHighlightedOption(flattenedOptions[0]);\n    } else {\n      _this3.setHighlightedOption(null);\n    }\n\n    _this3.setState({\n      filteredOptions: filteredOptions,\n      searchTerm: searchTerm,\n      _flattenedOptions: flattenedOptions\n    }, callback);\n  };\n\n  this.handleSearchInputChange = function (event) {\n    var value = event.target.value;\n\n    _this3.open();\n\n    _this3.search(value);\n\n    if (_this3.props.onSearchInputChange) {\n      // show deprecate warning\n      _this3.props.onSearchInputChange(event, {\n        select: _this3.getPublicApi()\n      });\n    } else {\n      _this3.props.onSearch(event, {\n        select: _this3.getPublicApi()\n      });\n    }\n  };\n\n  this.handleKeyDown = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var event = args[0];\n    var keyCode = event.which;\n    var action = _this3[actions[keyCode]];\n\n    if (action) {\n      if ((keyCode === KEY_CODES.UP_ARROW || keyCode === KEY_CODES.DOWN_ARROW) && !_this3.state.isOpen) {\n        _this3.open();\n\n        return;\n      }\n\n      action.apply(_this3, args);\n    }\n\n    _this3.props.onKeyDown(event, {\n      select: _this3.getPublicApi()\n    });\n  };\n\n  this.handleFocus = function (event) {\n    var triggerInput = _this3.powerselect.querySelector('input');\n\n    if (triggerInput) {\n      triggerInput.focus();\n    }\n\n    _this3.setFocusedState(true);\n\n    if (!_this3.state.focused) {\n      _this3.props.onFocus(event, {\n        select: _this3.getPublicApi()\n      });\n    }\n  };\n\n  this.handleBlur = function (event) {\n    _this3.setFocusedState(false);\n\n    _this3.props.onBlur(event, {\n      select: _this3.getPublicApi()\n    });\n  };\n\n  this.handleClick = function (event) {\n    _this3.toggle(event);\n\n    _this3.props.onClick(event, {\n      select: _this3.getPublicApi()\n    });\n  };\n\n  this.handleClearClick = function (event) {\n    _this3.selectOption(undefined);\n\n    _this3.resetSearchAndClose();\n\n    _this3.focusField();\n\n    event.stopPropagation();\n  };\n\n  this.handleOptionClick = function (highlightedOption) {\n    _this3.selectOption(highlightedOption);\n\n    _this3.focusField();\n\n    if (_this3.props.closeOnSelect) {\n      _this3.resetSearchAndClose();\n    }\n  };\n};\n\nexports.default = Select;\nSelect.propTypes = {\n  options: _propTypes2.default.array.isRequired,\n  selected: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object, _propTypes2.default.array]),\n  onChange: _propTypes2.default.func.isRequired\n};\nSelect.defaultProps = {\n  options: [],\n  disabled: false,\n  tabIndex: 0,\n  showClear: true,\n  closeOnSelect: true,\n  optionLabelPath: null,\n  optionComponent: null,\n  triggerComponent: _SelectTrigger2.default,\n  triggerLHSComponent: null,\n  triggerRHSComponent: null,\n  selectedOptionComponent: null,\n  beforeOptionsComponent: null,\n  afterOptionsComponent: null,\n  horizontalPosition: 'left',\n  matcher: _utils.matcher,\n  onFocus: noop,\n  onBlur: noop,\n  onClick: noop,\n  onKeyDown: noop,\n  onOpen: noop,\n  onClose: noop,\n  onSearch: noop\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/frontend/node_modules/react-power-select/lib/Select.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_actions","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_classnames","_classnames2","_Dropdown","_Dropdown2","_SelectTrigger","_SelectTrigger2","_DropdownMenu","_DropdownMenu2","_utils","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_defineProperty","KEY_CODES","UP_ARROW","DOWN_ARROW","ENTER","TAB","actions","noop","Select","_Component","_ref","_temp","_this","_ret","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","_initialiseProps","componentWillMount","flattenOptions","options","componentWillReceiveProps","_ref2","setState","filteredOptions","componentDidMount","document","addEventListener","documentEventListeners","handleEscapePress","handleDocumentClick","componentWillUnmount","removeEventListener","clearTimeout","focusFieldTimeout","_flattenOptions2","isOptGroupOptions","flattenedOptions","optGroupMap","_optGroupMap","_flattenedOptions","getVisibleOptions","state","getFlattenedOptions","setHighlightedOption","highlightedOption","setFocusedState","focused","validateAndHighlightOption","counter","isValidOptionAvailable","isValidOptionPresent","nextValidOption","getNextValidOption","currentOption","handleDownArrow","event","preventDefault","handleUpArrow","handleEnterPress","isOpen","selectOption","focusField","resetSearchAndClose","handleTabPress","which","$target","powerselect","contains","dropdown","_state","getPublicApi","_state2","searchTerm","open","close","search","focus","render","_this2","_props","className","tabIndex","selected","showClear","optionLabelPath","optionComponent","placeholder","disabled","horizontalPosition","selectedOptionComponent","selectedOptionLabelPath","triggerLHSComponent","triggerRHSComponent","beforeOptionsComponent","afterOptionsComponent","_state3","Trigger","triggerComponent","selectApi","createElement","ref","PowerSelect__WithSearch","onClick","handleClick","onFocus","handleFocus","onKeyDown","handleKeyDown","selectedOption","handleOnChange","handleSearchInputChange","onClearClick","handleClearClick","handleOnBlur","handleBlur","select","dropdownRef","onRef","minWidth","offsetWidth","onOptionClick","handleOptionClick","Component","_this3","bind","option","onChange","find","onOpen","onClose","toggle","stopPropagation","resetSearch","setTimeout","callback","_props2","matcher","_props2$searchIndices","searchIndices","undefined","filterOptions","_flattenOptions3","onSearchInputChange","onSearch","_len2","_key2","keyCode","action","triggerInput","querySelector","onBlur","closeOnSelect","propTypes","array","isRequired","oneOfType","string","object","func","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _actions;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Dropdown = require('./Dropdown');\n\nvar _Dropdown2 = _interopRequireDefault(_Dropdown);\n\nvar _SelectTrigger = require('./SelectTrigger');\n\nvar _SelectTrigger2 = _interopRequireDefault(_SelectTrigger);\n\nvar _DropdownMenu = require('./DropdownMenu');\n\nvar _DropdownMenu2 = _interopRequireDefault(_DropdownMenu);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar KEY_CODES = {\n  UP_ARROW: 38,\n  DOWN_ARROW: 40,\n  ENTER: 13,\n  TAB: 9\n};\n\nvar actions = (_actions = {}, _defineProperty(_actions, KEY_CODES.UP_ARROW, 'handleUpArrow'), _defineProperty(_actions, KEY_CODES.DOWN_ARROW, 'handleDownArrow'), _defineProperty(_actions, KEY_CODES.ENTER, 'handleEnterPress'), _defineProperty(_actions, KEY_CODES.TAB, 'handleTabPress'), _actions);\n\nvar noop = function noop() {};\n\nvar Select = function (_Component) {\n  _inherits(Select, _Component);\n\n  function Select() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Select);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Select.__proto__ || Object.getPrototypeOf(Select)).call.apply(_ref, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Select, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.flattenOptions(this.props.options);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref2) {\n      var options = _ref2.options;\n\n      this.flattenOptions(options);\n      if (this.props.options !== options) {\n        this.setState({\n          filteredOptions: options\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.documentEventListeners.handleEscapePress);\n      document.addEventListener('click', this.documentEventListeners.handleDocumentClick, true);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.documentEventListeners.handleEscapePress);\n      document.removeEventListener('click', this.documentEventListeners.handleDocumentClick, true);\n      clearTimeout(this.focusFieldTimeout);\n    }\n  }, {\n    key: 'flattenOptions',\n    value: function flattenOptions(options) {\n      var _flattenOptions2 = (0, _utils.flattenOptions)(options),\n          isOptGroupOptions = _flattenOptions2.isOptGroupOptions,\n          flattenedOptions = _flattenOptions2.flattenedOptions,\n          optGroupMap = _flattenOptions2.optGroupMap;\n\n      this.isOptGroupOptions = isOptGroupOptions;\n      this._optGroupMap = optGroupMap;\n      this.setState({\n        _flattenedOptions: flattenedOptions\n      });\n    }\n  }, {\n    key: 'getVisibleOptions',\n    value: function getVisibleOptions() {\n      return this.state.filteredOptions || this.props.options;\n    }\n  }, {\n    key: 'getFlattenedOptions',\n    value: function getFlattenedOptions() {\n      return this.state._flattenedOptions;\n    }\n  }, {\n    key: 'setHighlightedOption',\n    value: function setHighlightedOption(highlightedOption) {\n      this.setState({\n        highlightedOption: highlightedOption\n      });\n    }\n  }, {\n    key: 'setFocusedState',\n    value: function setFocusedState(focused) {\n      this.setState({ focused: focused });\n    }\n  }, {\n    key: 'validateAndHighlightOption',\n    value: function validateAndHighlightOption(highlightedOption, counter) {\n      var options = this.getFlattenedOptions();\n      var isValidOptionAvailable = (0, _utils.isValidOptionPresent)(options);\n      if (isValidOptionAvailable) {\n        var nextValidOption = (0, _utils.getNextValidOption)({\n          options: options,\n          counter: counter,\n          currentOption: highlightedOption,\n          optGroupMap: this._optGroupMap\n        });\n        this.setHighlightedOption(nextValidOption);\n      }\n    }\n  }, {\n    key: 'handleDownArrow',\n    value: function handleDownArrow(event, highlightedOption) {\n      event.preventDefault();\n      this.validateAndHighlightOption(highlightedOption, 1);\n    }\n  }, {\n    key: 'handleUpArrow',\n    value: function handleUpArrow(event, highlightedOption) {\n      event.preventDefault();\n      this.validateAndHighlightOption(highlightedOption, -1);\n    }\n  }, {\n    key: 'handleEnterPress',\n    value: function handleEnterPress(event, highlightedOption) {\n      if (this.state.isOpen) {\n        this.selectOption(highlightedOption);\n        this.focusField();\n        this.resetSearchAndClose();\n      }\n    }\n  }, {\n    key: 'handleTabPress',\n    value: function handleTabPress(event, highlightedOption) {\n      this.setFocusedState(false);\n      if (this.state.isOpen) {\n        this.selectOption(highlightedOption);\n        this.resetSearchAndClose();\n      }\n    }\n  }, {\n    key: 'handleEscapePress',\n    value: function handleEscapePress(event) {\n      if (event.which === 27) {\n        var $target = event.target;\n        if (this.powerselect.contains($target) || this.dropdown && this.dropdown.contains($target)) {\n          this.resetSearchAndClose();\n          this.focusField();\n        }\n      }\n    }\n  }, {\n    key: 'handleDocumentClick',\n    value: function handleDocumentClick(event) {\n      var $target = event.target;\n      if (!(this.powerselect.contains($target) || this.dropdown && this.dropdown.contains(event.target))) {\n        var _state = this.state,\n            focused = _state.focused,\n            isOpen = _state.isOpen;\n\n        if (focused) {\n          this.setFocusedState(false);\n        }\n        if (isOpen) {\n          this.resetSearchAndClose();\n        }\n      }\n    }\n  }, {\n    key: 'getPublicApi',\n    value: function getPublicApi() {\n      var _state2 = this.state,\n          isOpen = _state2.isOpen,\n          searchTerm = _state2.searchTerm;\n\n      return {\n        isOpen: isOpen,\n        searchTerm: searchTerm,\n        actions: {\n          open: this.open,\n          close: this.close,\n          search: this.search,\n          focus: this.focusField\n        }\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          tabIndex = _props.tabIndex,\n          selected = _props.selected,\n          showClear = _props.showClear,\n          optionLabelPath = _props.optionLabelPath,\n          optionComponent = _props.optionComponent,\n          placeholder = _props.placeholder,\n          disabled = _props.disabled,\n          horizontalPosition = _props.horizontalPosition,\n          selectedOptionComponent = _props.selectedOptionComponent,\n          selectedOptionLabelPath = _props.selectedOptionLabelPath,\n          triggerLHSComponent = _props.triggerLHSComponent,\n          triggerRHSComponent = _props.triggerRHSComponent,\n          beforeOptionsComponent = _props.beforeOptionsComponent,\n          afterOptionsComponent = _props.afterOptionsComponent;\n      var _state3 = this.state,\n          isOpen = _state3.isOpen,\n          searchTerm = _state3.searchTerm,\n          highlightedOption = _state3.highlightedOption,\n          focused = _state3.focused;\n\n      var Trigger = this.props.triggerComponent;\n      var options = this.getVisibleOptions();\n      var selectApi = this.getPublicApi();\n\n      return _react2.default.createElement(\n        _Dropdown2.default,\n        { className: className, horizontalPosition: horizontalPosition },\n        _react2.default.createElement(\n          'div',\n          {\n            ref: function ref(powerselect) {\n              _this2.powerselect = powerselect;\n            },\n            className: (0, _classnames2.default)('PowerSelect', className, {\n              'PowerSelect--disabled': disabled,\n              'PowerSelect--open': isOpen,\n              'PowerSelect--focused': focused,\n              PowerSelect__WithSearch: searchTerm\n            }),\n            tabIndex: tabIndex,\n            onClick: this.handleClick,\n            onFocus: this.handleFocus,\n            onKeyDown: function onKeyDown(event) {\n              _this2.handleKeyDown(event, highlightedOption);\n            }\n          },\n          _react2.default.createElement(Trigger, {\n            selectedOption: selected,\n            highlightedOption: highlightedOption,\n            optionLabelPath: optionLabelPath,\n            selectedOptionLabelPath: selectedOptionLabelPath,\n            selectedOptionComponent: selectedOptionComponent,\n            triggerLHSComponent: triggerLHSComponent,\n            triggerRHSComponent: triggerRHSComponent,\n            placeholder: placeholder,\n            disabled: disabled,\n            searchTerm: searchTerm,\n            showClear: showClear,\n            handleOnChange: this.handleSearchInputChange,\n            onClearClick: this.handleClearClick,\n            handleOnBlur: this.handleBlur,\n            select: selectApi\n          })\n        ),\n        isOpen && _react2.default.createElement(_DropdownMenu2.default, {\n          ref: function ref(dropdownRef) {\n            return _this2.dropdownRef = dropdownRef;\n          },\n          onRef: function onRef(dropdown) {\n            return _this2.dropdown = dropdown;\n          },\n          className: className,\n          minWidth: this.powerselect.offsetWidth,\n          options: options,\n          selected: selected,\n          optionLabelPath: optionLabelPath,\n          optionComponent: optionComponent,\n          onOptionClick: this.handleOptionClick,\n          handleKeyDown: this.handleKeyDown,\n          highlightedOption: highlightedOption,\n          select: selectApi,\n          beforeOptionsComponent: beforeOptionsComponent,\n          afterOptionsComponent: afterOptionsComponent\n        })\n      );\n    }\n  }]);\n\n  return Select;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.state = {\n    highlightedOption: null,\n    isOpen: false,\n    focused: false,\n    filteredOptions: null,\n    searchTerm: null\n  };\n  this.documentEventListeners = {\n    handleEscapePress: this.handleEscapePress.bind(this),\n    handleDocumentClick: this.handleDocumentClick.bind(this)\n  };\n\n  this.selectOption = function (option) {\n    _this3.props.onChange({\n      select: _this3.getPublicApi(),\n      option: option\n    });\n    _this3.setState({\n      searchTerm: null\n    });\n  };\n\n  this.open = function () {\n    if (_this3.props.disabled) {\n      return;\n    }\n    var flattenedOptions = _this3.getFlattenedOptions();\n    if (_this3.state.highlightedOption === null) {\n      var selected = _this3.props.selected;\n\n      var highlightedOption = flattenedOptions.find(function (option) {\n        return option === selected;\n      });\n      _this3.setHighlightedOption(highlightedOption);\n    }\n    _this3.setState({\n      isOpen: true\n    });\n    _this3.props.onOpen({ select: _this3.getPublicApi() });\n  };\n\n  this.close = function () {\n    _this3.setState({\n      isOpen: false\n    });\n    _this3.props.onClose({ select: _this3.getPublicApi() });\n  };\n\n  this.resetSearchAndClose = function () {\n    _this3.search(null);\n    _this3.close();\n  };\n\n  this.toggle = function (event) {\n    if (event && _this3.powerselect.contains(event.target)) {\n      event.stopPropagation();\n    }\n    if (_this3.state.isOpen) {\n      _this3.resetSearchAndClose();\n    } else {\n      _this3.open();\n    }\n  };\n\n  this.resetSearch = function () {\n    _this3.setHighlightedOption(null);\n    _this3.setState({\n      searchTerm: null,\n      filteredOptions: null\n    });\n  };\n\n  this.focusField = function () {\n    _this3.focusFieldTimeout = setTimeout(function () {\n      _this3.powerselect.focus();\n    });\n  };\n\n  this.search = function (searchTerm, callback) {\n    var _props2 = _this3.props,\n        options = _props2.options,\n        optionLabelPath = _props2.optionLabelPath,\n        matcher = _props2.matcher,\n        _props2$searchIndices = _props2.searchIndices,\n        searchIndices = _props2$searchIndices === undefined ? optionLabelPath : _props2$searchIndices;\n\n    var filteredOptions = (0, _utils.filterOptions)({\n      options: options,\n      searchTerm: searchTerm || '',\n      searchIndices: searchIndices,\n      matcher: matcher\n    });\n\n    var _flattenOptions3 = (0, _utils.flattenOptions)(filteredOptions || []),\n        flattenedOptions = _flattenOptions3.flattenedOptions;\n\n    if (searchTerm && flattenedOptions.length) {\n      _this3.setHighlightedOption(flattenedOptions[0]);\n    } else {\n      _this3.setHighlightedOption(null);\n    }\n\n    _this3.setState({\n      filteredOptions: filteredOptions,\n      searchTerm: searchTerm,\n      _flattenedOptions: flattenedOptions\n    }, callback);\n  };\n\n  this.handleSearchInputChange = function (event) {\n    var value = event.target.value;\n    _this3.open();\n    _this3.search(value);\n\n    if (_this3.props.onSearchInputChange) {\n      // show deprecate warning\n      _this3.props.onSearchInputChange(event, { select: _this3.getPublicApi() });\n    } else {\n      _this3.props.onSearch(event, { select: _this3.getPublicApi() });\n    }\n  };\n\n  this.handleKeyDown = function () {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var event = args[0];\n\n    var keyCode = event.which;\n    var action = _this3[actions[keyCode]];\n    if (action) {\n      if ((keyCode === KEY_CODES.UP_ARROW || keyCode === KEY_CODES.DOWN_ARROW) && !_this3.state.isOpen) {\n        _this3.open();\n        return;\n      }\n      action.apply(_this3, args);\n    }\n    _this3.props.onKeyDown(event, { select: _this3.getPublicApi() });\n  };\n\n  this.handleFocus = function (event) {\n    var triggerInput = _this3.powerselect.querySelector('input');\n    if (triggerInput) {\n      triggerInput.focus();\n    }\n    _this3.setFocusedState(true);\n    if (!_this3.state.focused) {\n      _this3.props.onFocus(event, { select: _this3.getPublicApi() });\n    }\n  };\n\n  this.handleBlur = function (event) {\n    _this3.setFocusedState(false);\n    _this3.props.onBlur(event, { select: _this3.getPublicApi() });\n  };\n\n  this.handleClick = function (event) {\n    _this3.toggle(event);\n    _this3.props.onClick(event, { select: _this3.getPublicApi() });\n  };\n\n  this.handleClearClick = function (event) {\n    _this3.selectOption(undefined);\n    _this3.resetSearchAndClose();\n    _this3.focusField();\n    event.stopPropagation();\n  };\n\n  this.handleOptionClick = function (highlightedOption) {\n    _this3.selectOption(highlightedOption);\n    _this3.focusField();\n    if (_this3.props.closeOnSelect) {\n      _this3.resetSearchAndClose();\n    }\n  };\n};\n\nexports.default = Select;\n\n\nSelect.propTypes = {\n  options: _propTypes2.default.array.isRequired,\n  selected: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object, _propTypes2.default.array]),\n  onChange: _propTypes2.default.func.isRequired\n};\n\nSelect.defaultProps = {\n  options: [],\n  disabled: false,\n  tabIndex: 0,\n  showClear: true,\n  closeOnSelect: true,\n  optionLabelPath: null,\n  optionComponent: null,\n  triggerComponent: _SelectTrigger2.default,\n  triggerLHSComponent: null,\n  triggerRHSComponent: null,\n  selectedOptionComponent: null,\n  beforeOptionsComponent: null,\n  afterOptionsComponent: null,\n  horizontalPosition: 'left',\n  matcher: _utils.matcher,\n  onFocus: noop,\n  onBlur: noop,\n  onClick: noop,\n  onKeyDown: noop,\n  onOpen: noop,\n  onClose: noop,\n  onSearch: noop\n};"]},"metadata":{},"sourceType":"script"}