{"ast":null,"code":"import _regeneratorRuntime from\"/Users/stuartcasarotto/Documents/family-website/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/stuartcasarotto/Documents/family-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/stuartcasarotto/Documents/family-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{TEPopupForm,TEInputRow,useTEPopups,TEDatetimeRow,TETextareaRow,TESelectRow,TESegmentedGroup}from'react-tec';import{TEPopupTitle}from'components';import{saveRSVP}from'./requests';export var EditRSVPPopup=function EditRSVPPopup(props){var _ref2;var visible=props.visible,onClose=props.onClose,onSubmit=props.onSubmit,editRSVP=props.editRSVP;var popupFunctions=useTEPopups();var _useState=useState(),_useState2=_slicedToArray(_useState,2),dateCreated=_useState2[0],setDateCreated=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),foodChoice=_useState6[0],setFoodChoice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),comment=_useState8[0],setComment=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),status=_useState10[0],setStatus=_useState10[1];useEffect(function(){if(editRSVP){var _dateCreated=editRSVP.dateCreated,_name=editRSVP.name,_foodChoice=editRSVP.foodChoice,_comment=editRSVP.comment,_status=editRSVP.status;setDateCreated(_dateCreated?new Date(_dateCreated):undefined);setName(_name);setFoodChoice({label:_foodChoice,value:_foodChoice});setComment(_comment);setStatus(_status);}else{setDateCreated(undefined);setName('');setFoodChoice(undefined);setComment('');setStatus(undefined);}},[editRSVP]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;data={uid:editRSVP.uid,name:name,foodChoice:foodChoice===null||foodChoice===void 0?void 0:foodChoice.value,comment:comment,status:status,popupFunctions:popupFunctions};_context.next=5;return saveRSVP(data);case 5:setDateCreated(undefined);setName('');setFoodChoice(undefined);setComment('');setStatus(undefined);onSubmit();_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return React.createElement(TEPopupForm,{visible:visible,onClose:onClose,onSubmit:handleSubmit,onSubmitTitle:\"Save Message\"},React.createElement(TEPopupTitle,null,\"Edit Message\"),React.createElement(TEDatetimeRow,{labelForKey:\"editDateCreated\",title:\"Date Created\",value:dateCreated,onChange:function onChange(){},required:true,disabled:true}),React.createElement(TEInputRow,{labelForKey:\"editName\",title:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},required:true}),React.createElement(TESelectRow,{labelForKey:\"editFoodChoice\",title:\"Food Choice\",value:foodChoice,options:[{label:'Prime Rib',value:'Prime Rib'},{label:'Chicken',value:'Chicken'},{label:'Fish',value:'Fish'},{label:'Pasta',value:'Pasta'},{label:'Mac and Cheese',value:'Mac and Cheese'},{label:'Other (please leave a comment below)',value:'other'}],onChange:function onChange(option){return setFoodChoice(option);},required:true}),React.createElement(TESegmentedGroup,{labelForKey:\"editStatus\",title:\"Status\",checkedValue:(_ref2=status===null||status===void 0?void 0:status.toString())!==null&&_ref2!==void 0?_ref2:'',buttonArray:[{label:'Submitted',value:'0',key:'Submitted'},{label:'Transferred',value:'1',key:'Transferred'}],onChange:function onChange(e){return setStatus(parseInt(e.target.value));}}),React.createElement(TETextareaRow,{labelForKey:\"editComment\",title:\"Comment\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}}));};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/RSVPs/EditRSVPPopup/EditRSVPPopup.tsx"],"names":["React","useState","useEffect","TEPopupForm","TEInputRow","useTEPopups","TEDatetimeRow","TETextareaRow","TESelectRow","TESegmentedGroup","TEPopupTitle","saveRSVP","EditRSVPPopup","props","visible","onClose","onSubmit","editRSVP","popupFunctions","dateCreated","setDateCreated","name","setName","foodChoice","setFoodChoice","comment","setComment","status","setStatus","Date","undefined","label","value","handleSubmit","e","preventDefault","data","uid","console","log","target","option","toString","key","parseInt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n\tTEPopupForm,\n\tTEInputRow,\n\tuseTEPopups,\n\tTEDatetimeRow,\n\tTETextareaRow,\n\tTESelectRow,\n\tTESegmentedGroup,\n} from 'react-tec'\n\nimport { TEPopupTitle } from 'components'\nimport { RSVP } from 'interfaces'\n\nimport { saveRSVP } from './requests'\n\ninterface Props {\n\tvisible: boolean\n\tonClose(): void\n\tonSubmit(): void\n\teditRSVP?: RSVP\n}\nexport const EditRSVPPopup = (props: Props) => {\n\tconst { visible, onClose, onSubmit, editRSVP } = props\n\n\tconst popupFunctions = useTEPopups()\n\tconst [dateCreated, setDateCreated] = useState<Date>()\n\tconst [name, setName] = useState('')\n\tconst [foodChoice, setFoodChoice] = useState<{ label: string; value: string }>()\n\tconst [comment, setComment] = useState('')\n\tconst [status, setStatus] = useState<number>()\n\n\tuseEffect(() => {\n\t\tif (editRSVP) {\n\t\t\tconst { dateCreated, name, foodChoice, comment, status } = editRSVP\n\n\t\t\tsetDateCreated(dateCreated ? new Date(dateCreated) : undefined)\n\t\t\tsetName(name)\n\t\t\tsetFoodChoice({ label: foodChoice, value: foodChoice })\n\t\t\tsetComment(comment)\n\t\t\tsetStatus(status)\n\t\t} else {\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetName('')\n\t\t\tsetFoodChoice(undefined)\n\t\t\tsetComment('')\n\t\t\tsetStatus(undefined)\n\t\t}\n\t}, [editRSVP])\n\n\tconst handleSubmit = async (e: React.FormEvent<HTMLElement>) => {\n\t\te.preventDefault()\n\t\ttry {\n\t\t\tconst data = {\n\t\t\t\tuid: editRSVP!.uid,\n\t\t\t\tname,\n\t\t\t\tfoodChoice: foodChoice?.value,\n\t\t\t\tcomment,\n\t\t\t\tstatus,\n\t\t\t\tpopupFunctions,\n\t\t\t}\n\n\t\t\tawait saveRSVP(data)\n\t\t\tsetDateCreated(undefined)\n\t\t\tsetName('')\n\t\t\tsetFoodChoice(undefined)\n\t\t\tsetComment('')\n\t\t\tsetStatus(undefined)\n\t\t\tonSubmit()\n\t\t} catch (e) {\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\n\treturn (\n\t\t<TEPopupForm\n\t\t\tvisible={visible}\n\t\t\tonClose={onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonSubmitTitle='Save Message'\n\t\t>\n\t\t\t<TEPopupTitle>Edit Message</TEPopupTitle>\n\t\t\t<TEDatetimeRow\n\t\t\t\tlabelForKey='editDateCreated'\n\t\t\t\ttitle='Date Created'\n\t\t\t\tvalue={dateCreated}\n\t\t\t\tonChange={() => {}}\n\t\t\t\trequired\n\t\t\t\tdisabled\n\t\t\t/>\n\t\t\t<TEInputRow\n\t\t\t\tlabelForKey='editName'\n\t\t\t\ttitle='Name'\n\t\t\t\tvalue={name}\n\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<TESelectRow\n\t\t\t\tlabelForKey='editFoodChoice'\n\t\t\t\ttitle='Food Choice'\n\t\t\t\tvalue={foodChoice}\n\t\t\t\toptions={[\n\t\t\t\t\t{ label: 'Prime Rib', value: 'Prime Rib' },\n\t\t\t\t\t{ label: 'Chicken', value: 'Chicken' },\n\t\t\t\t\t{ label: 'Fish', value: 'Fish' },\n\t\t\t\t\t{ label: 'Pasta', value: 'Pasta' },\n\t\t\t\t\t{ label: 'Mac and Cheese', value: 'Mac and Cheese' },\n\t\t\t\t\t{ label: 'Other (please leave a comment below)', value: 'other' },\n\t\t\t\t]}\n\t\t\t\tonChange={(option) =>\n\t\t\t\t\tsetFoodChoice(option as undefined | { value: string; label: string })\n\t\t\t\t}\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<TESegmentedGroup\n\t\t\t\tlabelForKey='editStatus'\n\t\t\t\ttitle='Status'\n\t\t\t\tcheckedValue={status?.toString() ?? ''}\n\t\t\t\tbuttonArray={[\n\t\t\t\t\t{ label: 'Submitted', value: '0', key: 'Submitted' },\n\t\t\t\t\t{ label: 'Transferred', value: '1', key: 'Transferred' },\n\t\t\t\t]}\n\t\t\t\tonChange={(e) => setStatus(parseInt(e.target.value))}\n\t\t\t/>\n\t\t\t<TETextareaRow\n\t\t\t\tlabelForKey='editComment'\n\t\t\t\ttitle='Comment'\n\t\t\t\tvalue={comment}\n\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t/>\n\t\t</TEPopupForm>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}