{"ast":null,"code":"import _slicedToArray from\"/Users/stuartcasarotto/Documents/family-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import firebase from'firebase/app';import'firebase/firestore';import{useState,useEffect}from'react';import{collectionToDataArray}from'helpers';export var useRSVPs=function useRSVPs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rsvpArray=_useState2[0],setRSVPArray=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),rsvpLoaded=_useState4[0],setRSVPsLoaded=_useState4[1];useEffect(function(){var rsvpsWatcher=firebase.firestore().collection('WeddingRSVPs').onSnapshot(function(snapshot){setRSVPArray(collectionToDataArray(snapshot));setRSVPsLoaded(true);},function(e){console.log(e);setRSVPArray([]);setRSVPsLoaded(false);});return function(){rsvpsWatcher();setRSVPArray([]);setRSVPsLoaded(false);};},[]);return{rsvpArray:rsvpArray,rsvpLoaded:rsvpLoaded};};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/RSVPs/hooks.ts"],"names":["firebase","useState","useEffect","collectionToDataArray","useRSVPs","rsvpArray","setRSVPArray","rsvpLoaded","setRSVPsLoaded","rsvpsWatcher","firestore","collection","onSnapshot","snapshot","e","console","log"],"mappings":"kIAAA,MAAOA,CAAAA,QAAP,KAAqB,cAArB,CACA,MAAO,oBAAP,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,OAASC,qBAAT,KAAsC,SAAtC,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,eACKH,QAAQ,CAAS,EAAT,CADb,wCACtBI,SADsB,eACXC,YADW,8BAEQL,QAAQ,CAAC,KAAD,CAFhB,yCAEtBM,UAFsB,eAEVC,cAFU,eAI7BN,SAAS,CAAC,UAAM,CACf,GAAMO,CAAAA,YAAY,CAAGT,QAAQ,CAC3BU,SADmB,GAEnBC,UAFmB,CAER,cAFQ,EAGnBC,UAHmB,CAInB,SAACC,QAAD,CAAc,CACbP,YAAY,CAACH,qBAAqB,CAACU,QAAD,CAAtB,CAAZ,CACAL,cAAc,CAAC,IAAD,CAAd,CACA,CAPkB,CAQnB,SAACM,CAAD,CAAO,CACNC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAR,YAAY,CAAC,EAAD,CAAZ,CACAE,cAAc,CAAC,KAAD,CAAd,CACA,CAZkB,CAArB,CAeA,MAAO,WAAM,CACZC,YAAY,GACZH,YAAY,CAAC,EAAD,CAAZ,CACAE,cAAc,CAAC,KAAD,CAAd,CACA,CAJD,CAKA,CArBQ,CAqBN,EArBM,CAAT,CAuBA,MAAO,CAAEH,SAAS,CAATA,SAAF,CAAaE,UAAU,CAAVA,UAAb,CAAP,CACA,CA5BM","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport { useState, useEffect } from 'react'\nimport { RSVP } from 'interfaces'\nimport { collectionToDataArray } from 'helpers'\n\nexport const useRSVPs = () => {\n\tconst [rsvpArray, setRSVPArray] = useState<RSVP[]>([])\n\tconst [rsvpLoaded, setRSVPsLoaded] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst rsvpsWatcher = firebase\n\t\t\t.firestore()\n\t\t\t.collection('WeddingRSVPs')\n\t\t\t.onSnapshot(\n\t\t\t\t(snapshot) => {\n\t\t\t\t\tsetRSVPArray(collectionToDataArray(snapshot))\n\t\t\t\t\tsetRSVPsLoaded(true)\n\t\t\t\t},\n\t\t\t\t(e) => {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tsetRSVPArray([])\n\t\t\t\t\tsetRSVPsLoaded(false)\n\t\t\t\t},\n\t\t\t)\n\n\t\treturn () => {\n\t\t\trsvpsWatcher()\n\t\t\tsetRSVPArray([])\n\t\t\tsetRSVPsLoaded(false)\n\t\t}\n\t}, [])\n\n\treturn { rsvpArray, rsvpLoaded }\n}\n"]},"metadata":{},"sourceType":"module"}