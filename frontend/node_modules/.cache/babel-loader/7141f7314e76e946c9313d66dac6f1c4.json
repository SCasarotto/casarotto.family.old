{"ast":null,"code":"var _jsxFileName = \"/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/Messages.tsx\";\nimport React, { useState } from 'react';\nimport { TEPanelWrapper, TEPanel, useTEPopups } from 'react-tec';\nimport { TEReactTable } from 'components';\nimport { useBarTitle } from 'hooks';\nimport { customTableFilter } from 'helpers';\nimport { useMessages } from './hooks';\nimport { tableColumns } from './tableConfigs';\nimport { confirmDeleteMessage } from './requests';\nimport { EditMessagePopup } from './EditMessagePopup';\nexport const Messages = () => {\n  useBarTitle('Messages');\n  const popupFunctions = useTEPopups();\n  const {\n    messageArray,\n    messagesLoaded\n  } = useMessages();\n  const [editMessagePopupVisible, setEditMessagePopupVisible] = useState(false);\n  const [editMessage, setEditMessage] = useState();\n\n  const handleEdit = message => {\n    setEditMessage(message);\n    setEditMessagePopupVisible(true);\n  };\n\n  const handleDelete = uid => {\n    const data = {\n      uid,\n      popupFunctions\n    };\n    confirmDeleteMessage(data);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(TEPanelWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(TEPanel, {\n    title: \"Messages\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(TEReactTable, {\n    data: messageArray,\n    columns: tableColumns({\n      handleEdit,\n      handleDelete\n    }),\n    filterable: true,\n    defaultFilterMethod: customTableFilter,\n    defaultSorted: [{\n      id: 'dateCreated',\n      desc: false\n    }],\n    loading: !messagesLoaded,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))), React.createElement(EditMessagePopup, {\n    visible: editMessagePopupVisible,\n    editMessage: editMessage,\n    onSubmit: () => {\n      setEditMessage(undefined);\n      setEditMessagePopupVisible(false);\n    },\n    onClose: () => {\n      setEditMessage(undefined);\n      setEditMessagePopupVisible(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/src/pages/admin/Messages/Messages.tsx"],"names":["React","useState","TEPanelWrapper","TEPanel","useTEPopups","TEReactTable","useBarTitle","customTableFilter","useMessages","tableColumns","confirmDeleteMessage","EditMessagePopup","Messages","popupFunctions","messageArray","messagesLoaded","editMessagePopupVisible","setEditMessagePopupVisible","editMessage","setEditMessage","handleEdit","message","handleDelete","uid","data","id","desc","undefined"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,cAAT,EAAyBC,OAAzB,EAAkCC,WAAlC,QAAqD,WAArD;AAEA,SAASC,YAAT,QAA6B,YAA7B;AAEA,SAASC,WAAT,QAA4B,OAA5B;AAEA,SAASC,iBAAT,QAAkC,SAAlC;AAEA,SAASC,WAAT,QAA4B,SAA5B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,oBAAT,QAAqC,YAArC;AAEA,SAASC,gBAAT,QAAiC,oBAAjC;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC7BN,EAAAA,WAAW,CAAC,UAAD,CAAX;AACA,QAAMO,cAAc,GAAGT,WAAW,EAAlC;AACA,QAAM;AAAEU,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAmCP,WAAW,EAApD;AAEA,QAAM,CAACQ,uBAAD,EAA0BC,0BAA1B,IAAwDhB,QAAQ,CAAC,KAAD,CAAtE;AACA,QAAM,CAACiB,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,EAA9C;;AAEA,QAAMmB,UAAU,GAAIC,OAAD,IAAsB;AACxCF,IAAAA,cAAc,CAACE,OAAD,CAAd;AACAJ,IAAAA,0BAA0B,CAAC,IAAD,CAA1B;AACA,GAHD;;AAIA,QAAMK,YAAY,GAAIC,GAAD,IAAiB;AACrC,UAAMC,IAAI,GAAG;AAAED,MAAAA,GAAF;AAAOV,MAAAA;AAAP,KAAb;AACAH,IAAAA,oBAAoB,CAACc,IAAD,CAApB;AACA,GAHD;;AAKA,SACC,0CACC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,YAAD;AACC,IAAA,IAAI,EAAEV,YADP;AAEC,IAAA,OAAO,EAAEL,YAAY,CAAC;AAAEW,MAAAA,UAAF;AAAcE,MAAAA;AAAd,KAAD,CAFtB;AAGC,IAAA,UAAU,MAHX;AAIC,IAAA,mBAAmB,EAAEf,iBAJtB;AAKC,IAAA,aAAa,EAAE,CACd;AACCkB,MAAAA,EAAE,EAAE,aADL;AAECC,MAAAA,IAAI,EAAE;AAFP,KADc,CALhB;AAWC,IAAA,OAAO,EAAE,CAACX,cAXX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,CADD,EAkBC,oBAAC,gBAAD;AACC,IAAA,OAAO,EAAEC,uBADV;AAEC,IAAA,WAAW,EAAEE,WAFd;AAGC,IAAA,QAAQ,EAAE,MAAM;AACfC,MAAAA,cAAc,CAACQ,SAAD,CAAd;AACAV,MAAAA,0BAA0B,CAAC,KAAD,CAA1B;AACA,KANF;AAOC,IAAA,OAAO,EAAE,MAAM;AACdE,MAAAA,cAAc,CAACQ,SAAD,CAAd;AACAV,MAAAA,0BAA0B,CAAC,KAAD,CAA1B;AACA,KAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBD,CADD;AAiCA,CAlDM","sourcesContent":["import React, { useState } from 'react'\nimport { TEPanelWrapper, TEPanel, useTEPopups } from 'react-tec'\n\nimport { TEReactTable } from 'components'\n\nimport { useBarTitle } from 'hooks'\nimport { Message } from 'interfaces'\nimport { customTableFilter } from 'helpers'\n\nimport { useMessages } from './hooks'\nimport { tableColumns } from './tableConfigs'\nimport { confirmDeleteMessage } from './requests'\n\nimport { EditMessagePopup } from './EditMessagePopup'\n\nexport const Messages = () => {\n\tuseBarTitle('Messages')\n\tconst popupFunctions = useTEPopups()\n\tconst { messageArray, messagesLoaded } = useMessages()\n\n\tconst [editMessagePopupVisible, setEditMessagePopupVisible] = useState(false)\n\tconst [editMessage, setEditMessage] = useState<Message>()\n\n\tconst handleEdit = (message: Message) => {\n\t\tsetEditMessage(message)\n\t\tsetEditMessagePopupVisible(true)\n\t}\n\tconst handleDelete = (uid: string) => {\n\t\tconst data = { uid, popupFunctions }\n\t\tconfirmDeleteMessage(data)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TEPanelWrapper>\n\t\t\t\t<TEPanel title='Messages'>\n\t\t\t\t\t<TEReactTable\n\t\t\t\t\t\tdata={messageArray}\n\t\t\t\t\t\tcolumns={tableColumns({ handleEdit, handleDelete })}\n\t\t\t\t\t\tfilterable\n\t\t\t\t\t\tdefaultFilterMethod={customTableFilter}\n\t\t\t\t\t\tdefaultSorted={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'dateCreated',\n\t\t\t\t\t\t\t\tdesc: false,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tloading={!messagesLoaded}\n\t\t\t\t\t/>\n\t\t\t\t</TEPanel>\n\t\t\t</TEPanelWrapper>\n\t\t\t<EditMessagePopup\n\t\t\t\tvisible={editMessagePopupVisible}\n\t\t\t\teditMessage={editMessage}\n\t\t\t\tonSubmit={() => {\n\t\t\t\t\tsetEditMessage(undefined)\n\t\t\t\t\tsetEditMessagePopupVisible(false)\n\t\t\t\t}}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetEditMessage(undefined)\n\t\t\t\t\tsetEditMessagePopupVisible(false)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}