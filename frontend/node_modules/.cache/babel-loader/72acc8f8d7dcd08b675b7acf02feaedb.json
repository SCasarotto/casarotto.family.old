{"ast":null,"code":"import _slicedToArray from\"/Users/stuartcasarotto/Documents/family-website/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from'react';import firebase from'firebase/app';import'firebase/auth';import'firebase/firestore';export var AppContext=createContext({});export var AppProvider=function AppProvider(props){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),userLoaded=_useState4[0],setUserLoaded=_useState4[1];useEffect(function(){firebase.auth().onAuthStateChanged(function(user){if(user){setUser(user);setUserLoaded(true);}else{setUser(undefined);setUserLoaded(true);}},function(e){console.error(e);setUser(undefined);setUserLoaded(true);},function(){return console.log('onAuthStateChanged Completed');});},[]);return/*#__PURE__*/React.createElement(AppContext.Provider,{value:{user:user,userLoaded:userLoaded}},props.children);};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/frontend/src/contexts/AppContext.tsx"],"names":["React","createContext","useState","useEffect","firebase","AppContext","AppProvider","props","undefined","user","setUser","userLoaded","setUserLoaded","auth","onAuthStateChanged","e","console","error","log","children"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CACA,MAAOC,CAAAA,QAAP,KAA+B,cAA/B,CACA,MAAO,eAAP,CACA,MAAO,oBAAP,CAMA,MAAO,IAAMC,CAAAA,UAAU,CAAGJ,aAAa,CAAiB,EAAjB,CAAhC,CAEP,MAAO,IAAMK,CAAAA,WAAqB,CAAG,QAAxBA,CAAAA,WAAwB,CAACC,KAAD,CAAW,eACvBL,QAAQ,CAAmBM,SAAnB,CADe,wCACxCC,IADwC,eAClCC,OADkC,8BAEXR,QAAQ,CAAC,KAAD,CAFG,yCAExCS,UAFwC,eAE5BC,aAF4B,eAI/CT,SAAS,CAAC,UAAM,CACfC,QAAQ,CAACS,IAAT,GAAgBC,kBAAhB,CACC,SAACL,IAAD,CAAU,CACT,GAAIA,IAAJ,CAAU,CACTC,OAAO,CAACD,IAAD,CAAP,CACAG,aAAa,CAAC,IAAD,CAAb,CACA,CAHD,IAGO,CACNF,OAAO,CAACF,SAAD,CAAP,CACAI,aAAa,CAAC,IAAD,CAAb,CACA,CACD,CATF,CAUC,SAACG,CAAD,CAAO,CACNC,OAAO,CAACC,KAAR,CAAcF,CAAd,EACAL,OAAO,CAACF,SAAD,CAAP,CACAI,aAAa,CAAC,IAAD,CAAb,CACA,CAdF,CAeC,iBAAMI,CAAAA,OAAO,CAACE,GAAR,CAAY,8BAAZ,CAAN,EAfD,EAiBA,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,mBACC,oBAAC,UAAD,CAAY,QAAZ,EACC,KAAK,CAAE,CACNT,IAAI,CAAJA,IADM,CAENE,UAAU,CAAVA,UAFM,CADR,EAMEJ,KAAK,CAACY,QANR,CADD,CAUA,CAlCM","sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\nimport firebase, { User } from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\ninterface AppContextData {\n\tuser?: User\n\tuserLoaded?: boolean\n}\nexport const AppContext = createContext<AppContextData>({})\n\nexport const AppProvider: React.FC = (props) => {\n\tconst [user, setUser] = useState<User | undefined>(undefined)\n\tconst [userLoaded, setUserLoaded] = useState(false)\n\n\tuseEffect(() => {\n\t\tfirebase.auth().onAuthStateChanged(\n\t\t\t(user) => {\n\t\t\t\tif (user) {\n\t\t\t\t\tsetUser(user)\n\t\t\t\t\tsetUserLoaded(true)\n\t\t\t\t} else {\n\t\t\t\t\tsetUser(undefined)\n\t\t\t\t\tsetUserLoaded(true)\n\t\t\t\t}\n\t\t\t},\n\t\t\t(e) => {\n\t\t\t\tconsole.error(e)\n\t\t\t\tsetUser(undefined)\n\t\t\t\tsetUserLoaded(true)\n\t\t\t},\n\t\t\t() => console.log('onAuthStateChanged Completed'),\n\t\t)\n\t}, [])\n\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\tuser,\n\t\t\t\tuserLoaded,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</AppContext.Provider>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}