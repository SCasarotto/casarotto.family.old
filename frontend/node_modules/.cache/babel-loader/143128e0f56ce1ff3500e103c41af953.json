{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { useState, useEffect } from 'react';\nimport { collectionToDataArray } from 'helpers';\nexport const useRSVPs = () => {\n  const [rsvpArray, setRSVPArray] = useState([]);\n  const [rsvpLoaded, setRSVPsLoaded] = useState(false);\n  useEffect(() => {\n    const rsvpsWatcher = firebase.firestore().collection('WeddingRSVPs').onSnapshot(snapshot => {\n      setRSVPArray(collectionToDataArray(snapshot));\n      setRSVPsLoaded(true);\n    }, e => {\n      console.log(e);\n      setRSVPArray([]);\n      setRSVPsLoaded(false);\n    });\n    return () => {\n      rsvpsWatcher();\n      setRSVPArray([]);\n      setRSVPsLoaded(false);\n    };\n  }, []);\n  return {\n    rsvpArray,\n    rsvpLoaded\n  };\n};","map":{"version":3,"sources":["/Users/stuartcasarotto/Documents/family-website/frontend/src/pages/admin/RSVPs/hooks.ts"],"names":["firebase","useState","useEffect","collectionToDataArray","useRSVPs","rsvpArray","setRSVPArray","rsvpLoaded","setRSVPsLoaded","rsvpsWatcher","firestore","collection","onSnapshot","snapshot","e","console","log"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,SAASC,qBAAT,QAAsC,SAAtC;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC7B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAS,EAAT,CAA1C;AACA,QAAM,CAACM,UAAD,EAAaC,cAAb,IAA+BP,QAAQ,CAAC,KAAD,CAA7C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMO,YAAY,GAAGT,QAAQ,CAC3BU,SADmB,GAEnBC,UAFmB,CAER,cAFQ,EAGnBC,UAHmB,CAIlBC,QAAD,IAAc;AACbP,MAAAA,YAAY,CAACH,qBAAqB,CAACU,QAAD,CAAtB,CAAZ;AACAL,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,KAPkB,EAQlBM,CAAD,IAAO;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAR,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,MAAAA,cAAc,CAAC,KAAD,CAAd;AACA,KAZkB,CAArB;AAeA,WAAO,MAAM;AACZC,MAAAA,YAAY;AACZH,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAE,MAAAA,cAAc,CAAC,KAAD,CAAd;AACA,KAJD;AAKA,GArBQ,EAqBN,EArBM,CAAT;AAuBA,SAAO;AAAEH,IAAAA,SAAF;AAAaE,IAAAA;AAAb,GAAP;AACA,CA5BM","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport { useState, useEffect } from 'react'\nimport { RSVP } from 'interfaces'\nimport { collectionToDataArray } from 'helpers'\n\nexport const useRSVPs = () => {\n\tconst [rsvpArray, setRSVPArray] = useState<RSVP[]>([])\n\tconst [rsvpLoaded, setRSVPsLoaded] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst rsvpsWatcher = firebase\n\t\t\t.firestore()\n\t\t\t.collection('WeddingRSVPs')\n\t\t\t.onSnapshot(\n\t\t\t\t(snapshot) => {\n\t\t\t\t\tsetRSVPArray(collectionToDataArray(snapshot))\n\t\t\t\t\tsetRSVPsLoaded(true)\n\t\t\t\t},\n\t\t\t\t(e) => {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tsetRSVPArray([])\n\t\t\t\t\tsetRSVPsLoaded(false)\n\t\t\t\t},\n\t\t\t)\n\n\t\treturn () => {\n\t\t\trsvpsWatcher()\n\t\t\tsetRSVPArray([])\n\t\t\tsetRSVPsLoaded(false)\n\t\t}\n\t}, [])\n\n\treturn { rsvpArray, rsvpLoaded }\n}\n"]},"metadata":{},"sourceType":"module"}